<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <meta name = "viewport" content = "width=device-width, minimum-scale=1.0, maximum-scale = 1.0, user-scalable = no"> -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Standard Books">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

    <meta name="theme-color" content="#202530">
    <meta name="Description" content="Read books from Standard Ebooks">
    <meta property="og:title" content="Standard Ebook Reader" />
    <meta property="og:image" content="./android-chrome-512x512.png" />
    <link rel=preconnect href="https://standardebooks.org">
    <link rel=preconnect href="https://github.com">

    <script>
      window.addEventListener('unhandledrejection', event => {
          alert("Error: " + event.reason.message);
      });
      window.onerror = function (msg, url, lineNo, columnNo, error) {
        var string = msg.toLowerCase();
        var substring = "script error";
        if (string.indexOf(substring) > -1){
          alert('Script Error: See Browser Console for Detail');
        } else {
          var message = [
            'Message: ' + msg,
            'URL: ' + url,
            'Line: ' + lineNo,
            'Column: ' + columnNo,
            'Error object: ' + JSON.stringify(error)
          ].join(' - ');

          alert(message);
        }

        return false;
      };

      function toggleSideNav() {
        const sideNav = document.getElementById("mySidenav")
        if (sideNav.classList.contains("open")) {
          sideNav.classList.remove("open");
        } else {
          sideNav.classList.add("open");
        }
      }
    </script>

    <style>
      link[rel="manifest"] {
        --pwacompat-splash-font: 24px Verdana;
      }
    </style> 

    <!-- <link rel="manifest" href="./manifest.json" /> -->
    <link rel="manifest" href="manifest.webmanifest" />
    <script async src="https://unpkg.com/pwacompat" crossorigin="anonymous"></script>
    <script defer type="module" src="./js/index.js"></script>
    <script defer type="module" src="./js/darkMode.js"></script>
    <script defer src="./lib/swiped-events.js"></script>
    
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#202530">
    <meta name="msapplication-TileColor" content="#2b5797">
    
    <link rel="stylesheet" type="text/css" href="./css/index.css" media="screen"/>
    <link rel="stylesheet" type="text/css" href="./css/styles.css">
    
    <title>Standard Ebook Reader</title>
    <meta name="Description" content="Read books from Standard Ebooks">
  </head>
  <body class="dark">
    <div class="first-content">
      <h1>Standard Ebooks</h1>
      <div id="main">
      Loading...
      </div>
    </div>
    <div id="result" class="results"></div> 
  </body>
</html>